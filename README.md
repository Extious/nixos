# NixOS Configuration for zhaozhan

## ????
```
.
|-- flake.nix                  # Flake ????????????
|-- flake.lock                 # ????????
|-- home/                      # Home Manager ?????????
|   |-- default.nix            # ???? home ??????
|   |-- lib/                   # ??????????
|   |-- programs/              # ????????????
|   `-- tweaks/                # ??????????
|-- hosts/                     # ???????
|   |-- hosts.nix              # ??????????
|   |-- default.nix            # ?? nixos/home ???????
|   `-- inspiron/              # ????? home ??
|       |-- hardware-configuration.nix
|       |-- os.nix             # ????? NixOS ??
|       `-- home.nix           # ????? Home Manager ??
|-- modules/                   # ???? NixOS / Home Manager ??
|   `-- home-manager/          # ??????????????
|-- nix/                       # Nix ?????channels?substituters ??
|-- os/                        # ??????programs?system?stylix?
|-- overlays/                  # ?? nixpkgs ? overlay ??
|-- pkgs/                      # ?????????????
|-- secrets/                   # agenix ???????
`-- templates/                 # ???? flake ??
```

## ????
- **????**?????????? `flakes` ? `nix-command`??? `secrets` ???????? `root` ? `zhaozhan` ? `~/.ssh`?
- **????**?
  ```bash
  git clone <repo-url> ~/nixos-config
  cd ~/nixos-config
  ```
- **????**??? Flake ?? `eden-inspiron` ?? NixOS ???
  ```bash
  sudo nixos-rebuild switch --flake .#eden-inspiron
  ```
- **??????**??? `zhaozhan` ? Home Manager ???
  ```bash
  nix run .#homeConfigurations.zhaozhan@eden-inspiron.activationPackage
  ```
- **????**???????????? `agenix` ???????
  ```bash
  agenix -e secrets/<name>.age
  ```
- **????**?
  ```bash
  nix flake update
  sudo nixos-rebuild switch --flake .#eden-inspiron
  nix run .#homeConfigurations.zhaozhan@eden-inspiron.activationPackage
  ```
